{"ast":null,"code":"import _classCallCheck from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import*as api from'../api';var CommentAdder=/*#__PURE__*/function(_Component){_inherits(CommentAdder,_Component);function CommentAdder(){var _getPrototypeOf2;var _this;_classCallCheck(this,CommentAdder);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CommentAdder)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={body:\"\",postedComment:{},isLoading:false};_this.handleChange=function(event){_this.setState({body:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();var _this$props=_this.props,article_id=_this$props.article_id,user=_this$props.user;var body=_this.state.body;_this.setState({isLoading:true});api.addComment(article_id,user,body).then(function(){_this.setState({body:'',isLoading:false});_this.props.handleCreatedMessage('Comment Successfully Posted');}).catch(function(error){return _this.props.handleCreatedMessage('status: 500, your comment could not be posted at this time, please try again later');});};return _this;}_createClass(CommentAdder,[{key:\"render\",value:function render(){var isLoading=this.state.isLoading;if(isLoading){return React.createElement(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif\",alt:\"loading...\"});}return React.createElement(\"div\",null,React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"textarea\",{type:\"text\",required:true,placeholder:\"What do you think?\",className:\"comment-add-box\",onChange:this.handleChange,value:this.state.body}),React.createElement(\"br\",null),React.createElement(\"button\",null,\"Post\"),React.createElement(\"br\",null)));}}]);return CommentAdder;}(Component);// (({data:{comment}}) => {\n//   this.setState({body: '', postedComment: comment })\n// })\nexport default CommentAdder;","map":{"version":3,"sources":["/home/anatd/Naomi/northcoders/week9/fe-nc-news/src/components.js/CommentAdder.jsx"],"names":["React","Component","api","CommentAdder","state","body","postedComment","isLoading","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","article_id","user","addComment","then","handleCreatedMessage","catch","error"],"mappings":"mpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,QAArB,C,GAEMC,CAAAA,Y,uZACJC,K,CAAQ,CACNC,IAAI,CAAE,EADA,CAENC,aAAa,CAAE,EAFT,CAGNC,SAAS,CAAE,KAHL,C,OAuBRC,Y,CAAe,SAACC,KAAD,CAAW,CACxB,MAAKC,QAAL,CAAc,CAACL,IAAI,CAAEI,KAAK,CAACE,MAAN,CAAaC,KAApB,CAAd,EACD,C,OACDC,Y,CAAe,SAACJ,KAAD,CAAW,CACxBA,KAAK,CAACK,cAAN,GADwB,gBAEG,MAAKC,KAFR,CAEjBC,UAFiB,aAEjBA,UAFiB,CAELC,IAFK,aAELA,IAFK,IAGjBZ,CAAAA,IAHiB,CAGT,MAAKD,KAHI,CAGjBC,IAHiB,CAIxB,MAAKK,QAAL,CAAc,CAACH,SAAS,CAAE,IAAZ,CAAd,EACAL,GAAG,CAACgB,UAAJ,CAAeF,UAAf,CAA2BC,IAA3B,CAAiCZ,IAAjC,EAAuCc,IAAvC,CAA4C,UAAM,CAChD,MAAKT,QAAL,CAAc,CAACL,IAAI,CAAE,EAAP,CAAWE,SAAS,CAAE,KAAtB,CAAd,EACA,MAAKQ,KAAL,CAAWK,oBAAX,CAAgC,6BAAhC,EACD,CAHD,EAGGC,KAHH,CAGS,SAAAC,KAAK,CAAI,CAChB,MACE,OAAKP,KAAL,CAAWK,oBAAX,CAAgC,oFAAhC,CADF,CAGA,CAPF,EAQD,C,+EAlCQ,IACAb,CAAAA,SADA,CACa,KAAKH,KADlB,CACAG,SADA,CAEP,GAAIA,SAAJ,CAAc,CACZ,MAAO,4BAAK,GAAG,CAAC,sEAAT,CAAgF,GAAG,CAAC,YAApF,EAAP,CACD,CACD,MACE,gCACE,4BAAM,QAAQ,CAAE,KAAKM,YAArB,EACI,gCAAU,IAAI,CAAC,MAAf,CAAsB,QAAQ,KAA9B,CAA+B,WAAW,CAAC,oBAA3C,CAAgE,SAAS,CAAC,iBAA1E,CAA4F,QAAQ,CAAI,KAAKL,YAA7G,CAA2H,KAAK,CAAE,KAAKJ,KAAL,CAAWC,IAA7I,EADJ,CAEE,8BAFF,CAIE,yCAJF,CAKE,8BALF,CADF,CADF,CAWD,C,0BAtBwBJ,S,EA2C3B;AACA;AACA;AAEA,cAAeE,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport * as api from '../api';\n\nclass CommentAdder extends Component {\n  state = { \n    body: \"\",\n    postedComment: {},\n    isLoading: false,\n  }\n  render() {\n    const {isLoading} = this.state\n    if (isLoading){\n      return <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif\" alt=\"loading...\"/>\n    } \n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n            <textarea type=\"text\" required placeholder=\"What do you think?\" className=\"comment-add-box\" onChange = {this.handleChange} value={this.state.body}/>\n          <br/>\n\n          <button >Post</button>\n          <br/>\n        </form>\n      </div>\n    );\n  }\n\n  handleChange = (event) => {\n    this.setState({body: event.target.value})\n  }\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const {article_id, user} = this.props\n    const {body} = this.state\n    this.setState({isLoading: true})\n    api.addComment(article_id, user, body).then(() => {\n      this.setState({body: '', isLoading: false})\n      this.props.handleCreatedMessage('Comment Successfully Posted')\n    }).catch(error => {\n      return(\n        this.props.handleCreatedMessage('status: 500, your comment could not be posted at this time, please try again later')\n        )\n     })\n  }\n}\n\n// (({data:{comment}}) => {\n//   this.setState({body: '', postedComment: comment })\n// })\n\nexport default CommentAdder;"]},"metadata":{},"sourceType":"module"}