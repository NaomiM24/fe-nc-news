{"ast":null,"code":"import _classCallCheck from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import*as api from'../api';import{Link}from'@reach/router';import ArticleVotesChange from'./ArticleVotesChange';var ArticleCard=/*#__PURE__*/function(_Component){_inherits(ArticleCard,_Component);function ArticleCard(){var _getPrototypeOf2;var _this;_classCallCheck(this,ArticleCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ArticleCard)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={user:{}};return _this;}_createClass(ArticleCard,[{key:\"render\",value:function render(){var article=this.props.article;var date=article.created_at.split('T');var ukDate=date[0].split('-');var time=date[1].split(':');var ArticleLink=\"/articles/\".concat(article.article_id);var AuthorLink=\"/authors/\".concat(article.author);var TopicLink=\"/topics/\".concat(article.topic);return React.createElement(\"div\",{className:\"article-card\"},React.createElement(\"li\",null,React.createElement(\"h2\",null,React.createElement(Link,{to:ArticleLink},article.title)),React.createElement(\"h3\",null,React.createElement(\"img\",{src:this.state.user.avatar_url,alt:\"user avatar\",className:\"avatar\"}),React.createElement(\"br\",null),\"by: \",React.createElement(Link,{to:AuthorLink},\" \",article.author),React.createElement(\"br\",null),\"in: \",React.createElement(Link,{to:TopicLink},article.topic)),React.createElement(\"p\",null,\"comments: \",article.comment_count,React.createElement(\"br\",null),\"published on \",ukDate[2],\"-\",ukDate[1],\"-\",ukDate[0],\" at \",time[0],\":\",time[1]),React.createElement(\"h4\",{className:\"article-votes\"},React.createElement(ArticleVotesChange,{article_id:article.article_id,article_vote:article.votes}))));}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchUser();}},{key:\"fetchUser\",value:function fetchUser(){var _this2=this;var author=this.props.article.author;api.getUser(author).then(function(_ref){var user=_ref.data.user;return _this2.setState({user:user});});}}]);return ArticleCard;}(Component);export default ArticleCard;","map":{"version":3,"sources":["/home/anatd/Naomi/northcoders/week9/fe-nc-news/src/components.js/ArticleCard.jsx"],"names":["React","Component","api","Link","ArticleVotesChange","ArticleCard","state","user","article","props","date","created_at","split","ukDate","time","ArticleLink","article_id","AuthorLink","author","TopicLink","topic","title","avatar_url","comment_count","votes","fetchUser","getUser","then","data","setState"],"mappings":"mpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,QAArB,CACA,OAASC,IAAT,KAAsB,eAAtB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,C,GAGMC,CAAAA,W,mZACJC,K,CAAQ,CACNC,IAAI,CAAE,EADA,C,8EAIC,IACAC,CAAAA,OADA,CACW,KAAKC,KADhB,CACAD,OADA,CAEP,GAAME,CAAAA,IAAI,CAAIF,OAAO,CAACG,UAAR,CAAmBC,KAAnB,CAAyB,GAAzB,CAAd,CACA,GAAMC,CAAAA,MAAM,CAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQE,KAAR,CAAc,GAAd,CAAf,CACA,GAAME,CAAAA,IAAI,CAAGJ,IAAI,CAAC,CAAD,CAAJ,CAAQE,KAAR,CAAc,GAAd,CAAb,CACA,GAAMG,CAAAA,WAAW,qBAAgBP,OAAO,CAACQ,UAAxB,CAAjB,CACA,GAAMC,CAAAA,UAAU,oBAAeT,OAAO,CAACU,MAAvB,CAAhB,CACA,GAAMC,CAAAA,SAAS,mBAAcX,OAAO,CAACY,KAAtB,CAAf,CACA,MACE,4BAAK,SAAS,CAAC,cAAf,EACE,8BACA,8BACE,oBAAC,IAAD,EAAM,EAAE,CAAIL,WAAZ,EAA0BP,OAAO,CAACa,KAAlC,CADF,CADA,CAIA,8BACA,2BAAK,GAAG,CAAE,KAAKf,KAAL,CAAWC,IAAX,CAAgBe,UAA1B,CAAsC,GAAG,CAAC,aAA1C,CAAwD,SAAS,CAAC,QAAlE,EADA,CAC6E,8BAD7E,QAEM,oBAAC,IAAD,EAAM,EAAE,CAAGL,UAAX,MAAyBT,OAAO,CAACU,MAAjC,CAFN,CAGE,8BAHF,QAIM,oBAAC,IAAD,EAAM,EAAE,CAAIC,SAAZ,EAAwBX,OAAO,CAACY,KAAhC,CAJN,CAJA,CAUA,0CACaZ,OAAO,CAACe,aADrB,CAEE,8BAFF,iBAGgBV,MAAM,CAAC,CAAD,CAHtB,KAG4BA,MAAM,CAAC,CAAD,CAHlC,KAGwCA,MAAM,CAAC,CAAD,CAH9C,QAGuDC,IAAI,CAAC,CAAD,CAH3D,KAGiEA,IAAI,CAAC,CAAD,CAHrE,CAVA,CAeA,0BAAI,SAAS,CAAG,eAAhB,EAEE,oBAAC,kBAAD,EAAoB,UAAU,CAAGN,OAAO,CAACQ,UAAzC,CAAqD,YAAY,CAAER,OAAO,CAACgB,KAA3E,EAFF,CAfA,CADF,CADF,CAwBD,C,6DACmB,CAClB,KAAKC,SAAL,GACD,C,6CAEW,oBACHP,CAAAA,MADG,CACO,KAAKT,KAAL,CAAWD,OADlB,CACHU,MADG,CAEVhB,GAAG,CAACwB,OAAJ,CAAYR,MAAZ,EAAoBS,IAApB,CAAyB,kBAAUpB,CAAAA,IAAV,MAAEqB,IAAF,CAAUrB,IAAV,OACzB,CAAA,MAAI,CAACsB,QAAL,CAAc,CAACtB,IAAI,CAAJA,IAAD,CAAd,CADyB,EAAzB,EAEE,C,yBA9CoBN,S,EAiD1B,cAAeI,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport * as api from '../api'\nimport { Link  } from '@reach/router'\nimport ArticleVotesChange from './ArticleVotesChange'\n\n\nclass ArticleCard extends Component {\n  state = {\n    user: {}\n  }\n\n  render() {\n    const {article} = this.props\n    const date = (article.created_at.split('T'))\n    const ukDate = date[0].split('-')\n    const time = date[1].split(':')\n    const ArticleLink = `/articles/${article.article_id}`\n    const AuthorLink = `/authors/${article.author}`\n    const TopicLink = `/topics/${article.topic}`\n    return (\n      <div className=\"article-card\">\n        <li>\n        <h2>\n          <Link to = {ArticleLink}>{article.title}</Link>\n        </h2>\n        <h3>\n        <img src={this.state.user.avatar_url} alt=\"user avatar\" className=\"avatar\" /><br/>\n          by: <Link to= {AuthorLink}> {article.author}</Link>\n          <br/>\n          in: <Link to = {TopicLink}>{article.topic}</Link>\n        </h3>\n        <p>\n          comments: {article.comment_count}\n          <br/>\n          published on {ukDate[2]}-{ukDate[1]}-{ukDate[0]} at {time[0]}:{time[1]}\n        </p>\n        <h4 className = \"article-votes\">\n          \n          <ArticleVotesChange article_id= {article.article_id} article_vote={article.votes}/>\n       </h4>\n        </li>\n    </div>\n    );\n  }\n  componentDidMount() {\n    this.fetchUser()\n  }\n\n  fetchUser() {\n    const {author} = this.props.article\n    api.getUser(author).then(({data : {user}}) =>\n    this.setState({user})\n    )}\n}\n\nexport default ArticleCard;"]},"metadata":{},"sourceType":"module"}