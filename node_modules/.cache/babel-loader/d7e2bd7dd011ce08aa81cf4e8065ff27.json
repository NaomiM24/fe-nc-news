{"ast":null,"code":"import _classCallCheck from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import CommentVotesChange from'./CommentVotesChange';import*as api from'../api';import CommentRemover from'./CommentRemover';//({comment, article_id}) \nvar CommentCard=/*#__PURE__*/function(_Component){_inherits(CommentCard,_Component);function CommentCard(){var _getPrototypeOf2;var _this;_classCallCheck(this,CommentCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CommentCard)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={user:{}};return _this;}_createClass(CommentCard,[{key:\"render\",value:function render(){var user=this.state.user;var _this$props=this.props,comment=_this$props.comment,selectedUser=_this$props.selectedUser;var date=comment.created_at.split('T');var ukDate=date[0].split('-');var time=date[1].split(':');return React.createElement(\"main\",null,React.createElement(\"li\",{className:\"comment-card\"},React.createElement(\"h3\",{className:\"comment-user\"},React.createElement(\"img\",{src:user.avatar_url,alt:\"user avatar\",className:\"avatar\"}),React.createElement(\"br\",null),\"posted by: \",comment.author),React.createElement(\"h4\",{className:\"comment-votes\"},React.createElement(CommentVotesChange,{comment_id:comment.comment_id,comment_vote:comment.votes})),React.createElement(\"h5\",{className:\"comment-published-at\"},\"published on \",ukDate[2],\"-\",ukDate[1],\"-\",ukDate[0],\" at \",time[0],\":\",time[1]),React.createElement(\"p\",{className:\"comment-body\"},comment.body),selectedUser===comment.author&&React.createElement(CommentRemover,{comment_id:comment.comment_id,removeComments:this.props.removeComments,handleDeletedMessage:this.props.handleDeletedMessage})));}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchUser();}},{key:\"fetchUser\",value:function fetchUser(){var _this2=this;var author=this.props.comment.author;api.getUser(author).then(function(_ref){var user=_ref.data.user;return _this2.setState({user:user});});}}]);return CommentCard;}(Component);export default CommentCard;","map":{"version":3,"sources":["/home/anatd/Naomi/northcoders/week9/fe-nc-news/src/components.js/CommentCard.jsx"],"names":["React","Component","CommentVotesChange","api","CommentRemover","CommentCard","state","user","props","comment","selectedUser","date","created_at","split","ukDate","time","avatar_url","author","comment_id","votes","body","removeComments","handleDeletedMessage","fetchUser","getUser","then","data","setState"],"mappings":"mpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,QAArB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA;GACMC,CAAAA,W,mZACJC,K,CAAQ,CACNC,IAAI,CAAE,EADA,C,8EAIC,IACAA,CAAAA,IADA,CACQ,KAAKD,KADb,CACAC,IADA,iBAEyB,KAAKC,KAF9B,CAEAC,OAFA,aAEAA,OAFA,CAESC,YAFT,aAESA,YAFT,CAGP,GAAMC,CAAAA,IAAI,CAAIF,OAAO,CAACG,UAAR,CAAmBC,KAAnB,CAAyB,GAAzB,CAAd,CACA,GAAMC,CAAAA,MAAM,CAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQE,KAAR,CAAc,GAAd,CAAf,CACA,GAAME,CAAAA,IAAI,CAAGJ,IAAI,CAAC,CAAD,CAAJ,CAAQE,KAAR,CAAc,GAAd,CAAb,CACA,MACE,iCACG,0BAAI,SAAS,CAAC,cAAd,EACD,0BAAI,SAAS,CAAC,cAAd,EACC,2BAAK,GAAG,CAAEN,IAAI,CAACS,UAAf,CAA2B,GAAG,CAAC,aAA/B,CAA6C,SAAS,CAAC,QAAvD,EADD,CAEC,8BAFD,eAGcP,OAAO,CAACQ,MAHtB,CADC,CAMD,0BAAI,SAAS,CAAG,eAAhB,EAEG,oBAAC,kBAAD,EAAoB,UAAU,CAAGR,OAAO,CAACS,UAAzC,CAAqD,YAAY,CAAET,OAAO,CAACU,KAA3E,EAFH,CANC,CAUD,0BAAI,SAAS,CAAG,sBAAhB,kBACcL,MAAM,CAAC,CAAD,CADpB,KAC0BA,MAAM,CAAC,CAAD,CADhC,KACsCA,MAAM,CAAC,CAAD,CAD5C,QACqDC,IAAI,CAAC,CAAD,CADzD,KAC+DA,IAAI,CAAC,CAAD,CADnE,CAVC,CAaD,yBAAG,SAAS,CAAG,cAAf,EAA+BN,OAAO,CAACW,IAAvC,CAbC,CAcAV,YAAY,GAAKD,OAAO,CAACQ,MAAzB,EAAmC,oBAAC,cAAD,EAAiB,UAAU,CAAER,OAAO,CAACS,UAArC,CAAiD,cAAc,CAAE,KAAKV,KAAL,CAAWa,cAA5E,CAA4F,oBAAoB,CAAE,KAAKb,KAAL,CAAWc,oBAA7H,EAdnC,CADH,CADF,CAqBD,C,6DACmB,CAClB,KAAKC,SAAL,GACD,C,6CAEW,oBACHN,CAAAA,MADG,CACO,KAAKT,KAAL,CAAWC,OADlB,CACHQ,MADG,CAEVd,GAAG,CAACqB,OAAJ,CAAYP,MAAZ,EAAoBQ,IAApB,CAAyB,kBAAUlB,CAAAA,IAAV,MAAEmB,IAAF,CAAUnB,IAAV,OACzB,CAAA,MAAI,CAACoB,QAAL,CAAc,CAACpB,IAAI,CAAJA,IAAD,CAAd,CADyB,EAAzB,EAEE,C,yBAzCoBN,S,EA8C1B,cAAeI,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport CommentVotesChange from './CommentVotesChange';\nimport * as api from '../api'\nimport CommentRemover from './CommentRemover';\n\n//({comment, article_id}) \nclass CommentCard extends Component {\n  state = {\n    user: {},\n\n  }\n  render() {\n    const {user} = this.state\n    const {comment, selectedUser} = this.props\n    const date = (comment.created_at.split('T'))\n    const ukDate = date[0].split('-')\n    const time = date[1].split(':')\n    return (\n      <main >\n         <li className=\"comment-card\">\n        <h3 className=\"comment-user\">\n         <img src={user.avatar_url} alt=\"user avatar\" className=\"avatar\"/>\n         <br/>\n          posted by: {comment.author}\n        </h3>\n        <h4 className = \"comment-votes\">\n          \n           <CommentVotesChange comment_id= {comment.comment_id} comment_vote={comment.votes}/>\n        </h4>\n        <h5 className = \"comment-published-at\">\n        published on {ukDate[2]}-{ukDate[1]}-{ukDate[0]} at {time[0]}:{time[1]}\n        </h5>\n        <p className = \"comment-body\">{comment.body}</p>\n        {selectedUser === comment.author && <CommentRemover  comment_id={comment.comment_id} removeComments={this.props.removeComments} handleDeletedMessage={this.props.handleDeletedMessage} />}\n       </li>\n        \n      </main>\n    );\n  }\n  componentDidMount() {\n    this.fetchUser()\n  }\n\n  fetchUser() {\n    const {author} = this.props.comment\n    api.getUser(author).then(({data : {user}}) =>\n    this.setState({user})\n    )}\n\n \n}\n\nexport default CommentCard;"]},"metadata":{},"sourceType":"module"}