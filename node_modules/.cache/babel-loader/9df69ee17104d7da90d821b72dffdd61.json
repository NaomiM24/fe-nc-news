{"ast":null,"code":"import _classCallCheck from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/anatd/Naomi/northcoders/week9/fe-nc-news/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import*as api from'../api';var CommentRemover=/*#__PURE__*/function(_Component){_inherits(CommentRemover,_Component);function CommentRemover(){var _getPrototypeOf2;var _this;_classCallCheck(this,CommentRemover);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CommentRemover)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={error:{status:null,msg:'',isLoading:false}};_this.handleClick=function(){var _this$props=_this.props,comment_id=_this$props.comment_id,removeComments=_this$props.removeComments;_this.setState({isLoading:true});api.deleteComment(comment_id).then(function(){_this.setState({isLoading:false});_this.props.handleDeletedMessage('Message Successfully Deleted');}).catch(function(error){return _this.props.handleDeletedMessage('status: 500, your comment could not be deleted at this time, please try again later')// this.setState({vote: 0, error:{status: 500, msg: 'your comment could not be deleted at this time, please try again later'}})\n;});removeComments(comment_id);};return _this;}_createClass(CommentRemover,[{key:\"render\",value:function render(){var isLoading=this.state.isLoading;if(isLoading){return React.createElement(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif\",alt:\"loading...\"});}var _this$state$error=this.state.error,status=_this$state$error.status,msg=_this$state$error.msg;return React.createElement(React.Fragment,null,React.createElement(\"button\",{className:\"comment-remover\",onClick:this.handleClick},\"Remove Comment\"),status!==null&&React.createElement(\"p\",null,\"Error\",status,\"! \",msg));}}]);return CommentRemover;}(Component);;export default CommentRemover;","map":{"version":3,"sources":["/home/anatd/Naomi/northcoders/week9/fe-nc-news/src/components.js/CommentRemover.jsx"],"names":["React","Component","api","CommentRemover","state","error","status","msg","isLoading","handleClick","props","comment_id","removeComments","setState","deleteComment","then","handleDeletedMessage","catch"],"mappings":"mpBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,QAArB,C,GAGMC,CAAAA,c,+ZACJC,K,CAAQ,CACNC,KAAK,CAAE,CACLC,MAAM,CAAE,IADH,CAELC,GAAG,CAAE,EAFA,CAGLC,SAAS,CAAE,KAHN,CADD,C,OAoBNC,W,CAAc,UAAK,iBACoB,MAAKC,KADzB,CACVC,UADU,aACVA,UADU,CACEC,cADF,aACEA,cADF,CAEjB,MAAKC,QAAL,CAAc,CAACL,SAAS,CAAE,IAAZ,CAAd,EACAN,GAAG,CAACY,aAAJ,CAAkBH,UAAlB,EAA8BI,IAA9B,CAAmC,UAAM,CACvC,MAAKF,QAAL,CAAc,CAACL,SAAS,CAAE,KAAZ,CAAd,EACA,MAAKE,KAAL,CAAWM,oBAAX,CAAgC,8BAAhC,EACD,CAHD,EAICC,KAJD,CAIO,SAAAZ,KAAK,CAAI,CAChB,MACE,OAAKK,KAAL,CAAWM,oBAAX,CAAgC,qFAAhC,CACA;AAFF,CAIA,CATA,EAUAJ,cAAc,CAACD,UAAD,CAAd,CACH,C,iFA3BQ,IACAH,CAAAA,SADA,CACa,KAAKJ,KADlB,CACAI,SADA,CAEP,GAAIA,SAAJ,CAAc,CACZ,MAAO,4BAAK,GAAG,CAAC,sEAAT,CAAgF,GAAG,CAAC,YAApF,EAAP,CACD,CAJM,sBAKe,KAAKJ,KAAL,CAAWC,KAL1B,CAKAC,MALA,mBAKAA,MALA,CAKQC,GALR,mBAKQA,GALR,CAMP,MACE,yCACC,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,KAAKE,WAAlD,mBADD,CAEGH,MAAM,GAAK,IAAZ,EAAqB,qCAASA,MAAT,MAAmBC,GAAnB,CAFvB,CADF,CAMC,C,4BApBwBN,S,EAqC5B,CAED,cAAeE,CAAAA,cAAf","sourcesContent":["import React, {Component} from 'react';\nimport * as api from '../api';\n\n\nclass CommentRemover extends Component{\n  state = {\n    error: {\n      status: null,\n      msg: '',\n      isLoading: false,\n    }\n  }\n  render() {\n    const {isLoading} = this.state\n    if (isLoading){\n      return <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif\" alt=\"loading...\"/>\n    } \n    const {status, msg} = this.state.error\n    return (\n      <>\n       <button className=\"comment-remover\" onClick={this.handleClick}>Remove Comment</button>\n       {(status !== null) && <p>Error{status}! {msg}</p>}\n      </>\n      );\n    }\n    handleClick = () =>{\n      const {comment_id, removeComments} = this.props\n      this.setState({isLoading: true})\n      api.deleteComment(comment_id).then(() => {\n        this.setState({isLoading: false})\n        this.props.handleDeletedMessage('Message Successfully Deleted')\n      })\n      .catch(error => {\n      return(\n        this.props.handleDeletedMessage('status: 500, your comment could not be deleted at this time, please try again later')\n        // this.setState({vote: 0, error:{status: 500, msg: 'your comment could not be deleted at this time, please try again later'}})\n        )\n     })\n      removeComments(comment_id)\n  }\n  \n};\n\nexport default CommentRemover;"]},"metadata":{},"sourceType":"module"}