{"ast":null,"code":"var _jsxFileName = \"/home/anatd/Naomi/northcoders/week9/fe-nc-news/src/components.js/CommentVotesChange.jsx\";\nimport React, { Component } from 'react';\nimport * as api from '../api';\n\nclass CommentVotesChange extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      vote: 0,\n      inputsDisabled: true\n    };\n\n    this.handleClick = event => {\n      this.setState({\n        vote: event.target.value\n      });\n    };\n  }\n\n  render() {\n    console.log('props', this.props);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, \"votes: \", this.props.comment_vote + +this.state.vote, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"like\",\n      value: \"1\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, \"Like\"), React.createElement(\"button\", {\n      className: \"dislike\",\n      value: \"-1\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, \"Dislike\"));\n  } // handleLike = ()=> {\n  //   this.setState({vote: 1})\n  // }\n  // handleDislike = () => {\n  //   this.setState({vote: -1})\n  // }\n\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.vote !== this.state.vote) {\n      const comment_id = this.props.comment_id;\n      const vote = this.state.vote;\n      api.updateCommentVotes(comment_id, vote).catch(error => {\n        this.setState({\n          error: {\n            status: 500,\n            msg: 'voting did not work, please try again later'\n          }\n        });\n      });\n    }\n  }\n\n}\n\nexport default CommentVotesChange;","map":{"version":3,"sources":["/home/anatd/Naomi/northcoders/week9/fe-nc-news/src/components.js/CommentVotesChange.jsx"],"names":["React","Component","api","CommentVotesChange","state","vote","inputsDisabled","handleClick","event","setState","target","value","render","console","log","props","comment_vote","componentDidUpdate","prevProps","prevState","comment_id","updateCommentVotes","catch","error","status","msg"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;;AAEA,MAAMC,kBAAN,SAAiCF,SAAjC,CAA2C;AAAA;AAAA;AAAA,SAEzCG,KAFyC,GAEjC;AACNC,MAAAA,IAAI,EAAE,CADA;AAENC,MAAAA,cAAc,EAAE;AAFV,KAFiC;;AAAA,SAgCzCC,WAhCyC,GAgC1BC,KAAD,IAAW;AACvB,WAAKC,QAAL,CAAc;AAACJ,QAAAA,IAAI,EAAEG,KAAK,CAACE,MAAN,CAAaC;AAApB,OAAd;AACD,KAlCwC;AAAA;;AAOzCC,EAAAA,MAAM,GAAG;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKC,KAA1B;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACW,KAAKA,KAAL,CAAWC,YAAX,GAA0B,CAAC,KAAKZ,KAAL,CAAWC,IADjD,EAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFH,EAGM;AAAQ,MAAA,SAAS,EAAC,MAAlB;AAAyB,MAAA,KAAK,EAAC,GAA/B;AAAmC,MAAA,OAAO,EAAE,KAAKE,WAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHN,EAMM;AAAQ,MAAA,SAAS,EAAC,SAAlB;AAA4B,MAAA,KAAK,EAAC,IAAlC;AAAuC,MAAA,OAAO,EAAE,KAAKA,WAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANN,CADF;AAYD,GAtBwC,CAwBzC;AACA;AACA;AAEA;AACA;AACA;;;AAMAU,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,QAAIA,SAAS,CAACd,IAAV,KAAmB,KAAKD,KAAL,CAAWC,IAAlC,EAAuC;AAAA,YAC9Be,UAD8B,GAChB,KAAKL,KADW,CAC9BK,UAD8B;AAAA,YAE9Bf,IAF8B,GAEtB,KAAKD,KAFiB,CAE9BC,IAF8B;AAGrCH,MAAAA,GAAG,CAACmB,kBAAJ,CAAuBD,UAAvB,EAAmCf,IAAnC,EACCiB,KADD,CACOC,KAAK,IAAI;AACd,aAAKd,QAAL,CAAc;AAACc,UAAAA,KAAK,EAAC;AAACC,YAAAA,MAAM,EAAE,GAAT;AAAcC,YAAAA,GAAG,EAAE;AAAnB;AAAP,SAAd;AACD,OAHD;AAID;AACF;;AA7CwC;;AAgD3C,eAAetB,kBAAf","sourcesContent":["import React, { Component } from 'react';\nimport * as api from '../api'\n\nclass CommentVotesChange extends Component {\n\n  state = {\n    vote: 0,\n    inputsDisabled: true,\n  }\n\n  render() {\n    console.log('props', this.props)\n    \n    return (\n      <div>\n         votes: {this.props.comment_vote + +this.state.vote}\n         <br/>\n            <button className=\"like\" value='1' onClick={this.handleClick}>\n              Like\n            </button>        \n            <button className=\"dislike\" value=\"-1\" onClick={this.handleClick}>\n              Dislike             \n            </button>      \n      </div>\n    );\n  }\n\n  // handleLike = ()=> {\n  //   this.setState({vote: 1})\n  // }\n\n  // handleDislike = () => {\n  //   this.setState({vote: -1})\n  // }\n\n  handleClick = (event) => {\n    this.setState({vote: event.target.value})\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.vote !== this.state.vote){\n      const {comment_id} = this.props\n      const {vote} = this.state\n      api.updateCommentVotes(comment_id, vote) \n      .catch(error => {\n        this.setState({error:{status: 500, msg: 'voting did not work, please try again later'}})\n      })       \n    }\n  }\n}\n\nexport default CommentVotesChange;"]},"metadata":{},"sourceType":"module"}